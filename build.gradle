plugins {
    id 'java'
    id 'application'
}

group 'com.bouzou'
version '1.0-SNAPSHOT'

sourceCompatibility = '17'
targetCompatibility = '17'

repositories {
    mavenCentral()
}

dependencies {
    testImplementation 'junit:junit:4.13'
    implementation fileTree(dir: 'libs', include: '**/*.jar')
}

application {
    mainClassName = 'com.bouzou.packages.giantspacerobotvisualizer.GiantSpaceRobotVisualizer'
}

task customJar(type: Jar) {
    manifest {
        attributes 'Main-Class': 'com.bouzou.packages.giantspacerobotvisualizer.GiantSpaceRobotVisualizer'
    }
    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

run {
  systemProperty "java.library.path", "libs/processing/core/library/macos-aarch64"
}